Index: squid/helpers/basic_auth/winbind/wbntlm.h
diff -c squid/helpers/basic_auth/winbind/wbntlm.h:1.1.2.3 squid/helpers/basic_auth/winbind/wbntlm.h:1.1.2.4
*** squid/helpers/basic_auth/winbind/wbntlm.h:1.1.2.3	Sun Feb 20 12:07:44 2005
--- squid/helpers/basic_auth/winbind/wbntlm.h	Wed Mar  9 07:30:37 2005
***************
*** 48,54 ****
  #endif
  
  #ifdef __GNUC__     /* this is really a gcc-ism */
! #define warn(X...)  fprintf(stderr,"%s[%d](%s:%d): ", myname, mypid, \
                      ((__foo=strrchr(__FILE__,'/'))==NULL?__FILE__:__foo+1),\
                      __LINE__);\
                      fprintf(stderr,X)
--- 48,54 ----
  #endif
  
  #ifdef __GNUC__     /* this is really a gcc-ism */
! #define warn(X...)  fprintf(stderr,"%s[%ld](%s:%d): ", myname, (long)mypid, \
                      ((__foo=strrchr(__FILE__,'/'))==NULL?__FILE__:__foo+1),\
                      __LINE__);\
                      fprintf(stderr,X)
Index: squid/helpers/external_acl/winbind_group/wbntlm.h
diff -c squid/helpers/external_acl/winbind_group/wbntlm.h:1.2.2.2 squid/helpers/external_acl/winbind_group/wbntlm.h:1.2.2.3
*** squid/helpers/external_acl/winbind_group/wbntlm.h:1.2.2.2	Sun May 11 06:51:49 2003
--- squid/helpers/external_acl/winbind_group/wbntlm.h	Wed Mar  9 07:30:37 2005
***************
*** 50,56 ****
  #endif
  
  #ifdef __GNUC__     /* this is really a gcc-ism */
! #define warn(X...)  fprintf(stderr,"%s[%d](%s:%d): ", myname, mypid, \
                      ((__foo=strrchr(__FILE__,'/'))==NULL?__FILE__:__foo+1),\
                      __LINE__);\
                      fprintf(stderr,X)
--- 50,56 ----
  #endif
  
  #ifdef __GNUC__     /* this is really a gcc-ism */
! #define warn(X...)  fprintf(stderr,"%s[%ld](%s:%d): ", myname, (long)mypid, \
                      ((__foo=strrchr(__FILE__,'/'))==NULL?__FILE__:__foo+1),\
                      __LINE__);\
                      fprintf(stderr,X)
Index: squid/helpers/ntlm_auth/SMB/ntlm.h
diff -c squid/helpers/ntlm_auth/SMB/ntlm.h:1.7.2.1 squid/helpers/ntlm_auth/SMB/ntlm.h:1.7.2.2
*** squid/helpers/ntlm_auth/SMB/ntlm.h:1.7.2.1	Sun Feb 20 12:07:44 2005
--- squid/helpers/ntlm_auth/SMB/ntlm.h	Wed Mar  9 07:30:37 2005
***************
*** 53,59 ****
  static const char *__foo;
  extern char debug_enabled;
  #define debug(X...) if (debug_enabled) { \
!                     fprintf(stderr,"ntlm-auth[%d](%s:%d): ", getpid(), \
                      ((__foo=strrchr(__FILE__,'/'))==NULL?__FILE__:__foo+1),\
                      __LINE__);\
                      fprintf(stderr,X); }
--- 53,59 ----
  static const char *__foo;
  extern char debug_enabled;
  #define debug(X...) if (debug_enabled) { \
!                     fprintf(stderr,"ntlm-auth[%ld](%s:%d): ", (long)getpid(), \
                      ((__foo=strrchr(__FILE__,'/'))==NULL?__FILE__:__foo+1),\
                      __LINE__);\
                      fprintf(stderr,X); }
Index: squid/helpers/ntlm_auth/SMB/ntlm_auth.c
diff -c squid/helpers/ntlm_auth/SMB/ntlm_auth.c:1.12.2.1 squid/helpers/ntlm_auth/SMB/ntlm_auth.c:1.12.2.2
*** squid/helpers/ntlm_auth/SMB/ntlm_auth.c:1.12.2.1	Mon Jul 22 05:20:44 2002
--- squid/helpers/ntlm_auth/SMB/ntlm_auth.c	Wed Mar  9 07:30:37 2005
***************
*** 327,333 ****
  	    alarm(0);
  	    signal(SIGALRM, SIG_DFL);
  	    if (got_timeout != 0) {
! 		fprintf(stderr, "ntlm-auth[%d]: Timeout during authentication.\n", getpid());
  		SEND("BH Timeout during authentication");
  		got_timeout = 0;
  		return;
--- 327,333 ----
  	    alarm(0);
  	    signal(SIGALRM, SIG_DFL);
  	    if (got_timeout != 0) {
! 		fprintf(stderr, "ntlm-auth[%ld]: Timeout during authentication.\n", (long)getpid());
  		SEND("BH Timeout during authentication");
  		got_timeout = 0;
  		return;
Index: squid/helpers/ntlm_auth/winbind/wbntlm.h
diff -c squid/helpers/ntlm_auth/winbind/wbntlm.h:1.1.2.2 squid/helpers/ntlm_auth/winbind/wbntlm.h:1.1.2.3
*** squid/helpers/ntlm_auth/winbind/wbntlm.h:1.1.2.2	Sun Feb 20 12:07:45 2005
--- squid/helpers/ntlm_auth/winbind/wbntlm.h	Wed Mar  9 07:30:38 2005
***************
*** 48,54 ****
  #endif
  
  #if defined(__GNUC__) || defined(__ICC)    /* this is really a gcc-ism */
! #define warn(X...)  fprintf(stderr,"%s[%d](%s:%d): ", myname, mypid, \
                      ((__foo=strrchr(__FILE__,'/'))==NULL?__FILE__:__foo+1),\
                      __LINE__);\
                      fprintf(stderr,X)
--- 48,54 ----
  #endif
  
  #if defined(__GNUC__) || defined(__ICC)    /* this is really a gcc-ism */
! #define warn(X...)  fprintf(stderr,"%s[%ld](%s:%d): ", myname, (long)mypid, \
                      ((__foo=strrchr(__FILE__,'/'))==NULL?__FILE__:__foo+1),\
                      __LINE__);\
                      fprintf(stderr,X)
Index: squid/src/main.c
diff -c squid/src/main.c:1.345.2.19 squid/src/main.c:1.345.2.20
*** squid/src/main.c:1.345.2.19	Sun Feb 20 19:55:04 2005
--- squid/src/main.c	Mon Mar 14 21:26:11 2005
***************
*** 272,280 ****
      do_shutdown = sig == SIGINT ? -1 : 1;
  #ifdef KILL_PARENT_OPT
      if (getppid() > 1) {
! 	debug(1, 1) ("Killing RunCache, pid %d\n", getppid());
  	if (kill(getppid(), sig) < 0)
! 	    debug(1, 1) ("kill %d: %s\n", getppid(), xstrerror());
      }
  #endif
  #if SA_RESETHAND == 0
--- 272,280 ----
      do_shutdown = sig == SIGINT ? -1 : 1;
  #ifdef KILL_PARENT_OPT
      if (getppid() > 1) {
! 	debug(1, 1) ("Killing RunCache, pid %ld\n", (long) getppid());
  	if (kill(getppid(), sig) < 0)
! 	    debug(1, 1) ("kill %ld: %s\n", (long) getppid(), xstrerror());
      }
  #endif
  #if SA_RESETHAND == 0
